<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2084</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- ========== PANTALLA DE INICIO ========== -->
    <div id="start-screen" class="screen active">
        <div class="glitch-container">
            <h1 class="glitch-title" data-text="2084">2084</h1>
            <p class="subtitle">La Resistencia de las Palabras</p>
        </div>
        <div class="menu-buttons">
            <button class="menu-btn" onclick="startNewGame()">
                <span class="btn-icon">‚ñ∂</span> Nuevo Juego
            </button>
            <button class="menu-btn" onclick="continueGame()">
                <span class="btn-icon">‚Üª</span> Continuar
            </button>
            <button class="menu-btn" onclick="showCredits()">
                <span class="btn-icon">‚Ñπ</span> Cr√©ditos
            </button>
        </div>
    </div>

    <!-- ========== CONTENEDOR DEL JUEGO ========== -->
    <div id="game-container" class="game-container">
        <!-- Canvas principal -->
        <canvas id="game-canvas"></canvas>

        <!-- Indicador de interacci√≥n -->
        <div id="interaction-indicator" class="interaction-indicator">
            Presiona ESPACIO o E para interactuar
        </div>

        <!-- Panel lateral derecho -->
        <div class="side-panel">
            <div class="panel-section">
                <h3 class="panel-title">LIBERTAD MENTAL</h3>
                <div class="progress-bar">
                    <div id="mental-freedom-fill" class="progress-fill"></div>
                    <span id="mental-freedom-value" class="progress-value">50</span>
                </div>
            </div>

            <div class="panel-section">
                <h3 class="panel-title">PALABRAS DESBLOQUEADAS</h3>
                <div class="words-counter">
                    <span id="words-count">0</span> palabras
                </div>
                <ul id="words-list" class="words-list">
                    <li class="empty-state">No has desbloqueado palabras</li>
                </ul>
            </div>

            <div class="panel-section">
                <h3 class="panel-title">MISI√ìN ACTUAL</h3>
                <p id="current-mission-name" class="mission-name">Explora el colegio</p>
                <button id="show-missions-btn" class="panel-btn">Ver Misiones</button>
            </div>

            <div class="panel-section">
                <canvas id="minimap"></canvas>
            </div>
        </div>

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2084</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Pantalla de inicio -->
    <div id="start-screen">
        <div class="start-content">
            <h1 class="glitch" data-text="2084">2084</h1>
            <p class="subtitle">La Resistencia de las Palabras</p>
            <button id="new-game-btn" class="btn-primary">Nuevo Juego</button>
            <button id="continue-game-btn" class="btn-secondary">Continuar</button>
            <button id="credits-btn" class="btn-secondary">Cr√©ditos</button>
        </div>
    </div>

    <!-- Contenedor del juego -->
    <div id="game-container" style="display: none;">
        <!-- Canvas principal -->
        <canvas id="game-canvas"></canvas>

        <!-- HUD -->
        <div id="hud">
            <!-- Libertad Mental -->
            <div class="hud-item">
                <div class="hud-label">Libertad Mental</div>
                <div class="progress-bar">
                    <div id="mental-freedom-fill" class="progress-fill"></div>
                    <span id="mental-freedom-value" class="progress-text">50</span>
                </div>
            </div>

            <!-- Palabras Desbloqueadas -->
            <div class="hud-item">
                <div class="hud-label">Palabras Desbloqueadas</div>
                <div id="words-count" class="hud-value">0/10</div>
            </div>

            <!-- Misi√≥n Actual -->
            <div class="hud-item">
                <div class="hud-label">Misi√≥n Actual</div>
                <div id="current-mission-name" class="hud-value">Explora el colegio</div>
            </div>

            <!-- Minimapa -->
            <div class="hud-item">
                <div class="hud-label">Mapa</div>
                <canvas id="minimap" width="150" height="112"></canvas>
            </div>

            <!-- NUEVO: Control de Audio -->
            <div class="hud-item audio-controls">
                <div class="hud-label">Audio</div>
                <button id="toggle-audio-btn" class="audio-btn">üîä</button>
                <div class="volume-controls">
                    <label>M√∫sica: <span id="music-volume-value">50</span>%</label>
                    <input type="range" id="music-volume" min="0" max="100" value="50">
                    <label>Efectos: <span id="sfx-volume-value">70</span>%</label>
                    <input type="range" id="sfx-volume" min="0" max="100" value="70">
                </div>
            </div>
        </div>

        <!-- Inventario de Palabras -->
        <div id="words-panel">
            <h3>Palabras Desbloqueadas</h3>
            <ul id="words-list">
                <li class="empty-state">No has desbloqueado palabras</li>
            </ul>
        </div>

        <!-- Bot√≥n de Misiones -->
        <button id="show-missions-btn" class="floating-btn">üìã Misiones</button>

        <!-- Indicador de Interacci√≥n -->
        <div id="interaction-indicator">
            <span>Presiona ESPACIO o E para interactuar</span>
        </div>

        <!-- Controles T√°ctiles -->
        <div id="touch-controls">
            <div class="dpad">
                <button id="btn-up" class="dpad-btn dpad-up">‚ñ≤</button>
                <button id="btn-down" class="dpad-btn dpad-down">‚ñº</button>
                <button id="btn-left" class="dpad-btn dpad-left">‚óÄ</button>
                <button id="btn-right" class="dpad-btn dpad-right">‚ñ∂</button>
            </div>
            <div class="action-buttons">
                <button id="btn-interact" class="action-btn">üí¨</button>
                <button id="btn-missions" class="action-btn">üìã</button>
                <button id="btn-pause" class="action-btn">‚è∏</button>
            </div>
        </div>

        <!-- Notificaciones -->
        <div id="notification-container"></div>
    </div>

    <!-- Overlay de Di√°logo -->
    <div id="dialogue-overlay" class="overlay">
        <div class="dialogue-box">
            <h2 id="npc-name">NPC</h2>
            <p id="dialogue-text">Texto del di√°logo...</p>
            <div id="dialogue-choices"></div>
            <button id="close-dialogue-btn" class="btn-secondary">Cerrar</button>
        </div>
    </div>

    <!-- Overlay de Misiones -->
    <div id="missions-overlay" class="overlay">
        <div class="missions-panel">
            <h2>Misiones</h2>
            <div class="missions-content">
                <div class="missions-section">
                    <h3>Activas</h3>
                    <ul id="active-missions-list"></ul>
                </div>
                <div class="missions-section">
                    <h3>Completadas</h3>
                    <ul id="completed-missions-list"></ul>
                </div>
            </div>
            <button id="close-missions-btn" class="btn-primary">Cerrar</button>
        </div>
    </div>

    <!-- Overlay de Pausa -->
    <div id="pause-overlay" class="overlay">
        <div class="pause-menu">
            <h2>Pausa</h2>
            <button id="resume-btn" class="btn-primary">Reanudar</button>
            <button id="save-btn" class="btn-secondary">Guardar Partida</button>
            <button id="load-btn" class="btn-secondary">Cargar Partida</button>
            <button id="restart-btn" class="btn-secondary">Reiniciar</button>
            <button id="exit-btn" class="btn-secondary">Salir al Men√∫</button>
        </div>
    </div>

    <!-- Overlay de Cinem√°ticas -->
    <div id="cinematic-overlay" class="overlay">
        <div class="cinematic-box">
            <h2 id="cinematic-title">T√≠tulo</h2>
            <div class="cinematic-media">
                <img id="cinematic-image" src="" alt="Cinem√°tica">
                <video id="cinematic-video" src="" controls></video>
            </div>
            <p id="cinematic-text">Texto de la cinem√°tica...</p>
            <button id="close-cinematic-btn" class="btn-primary">Continuar</button>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>

        <!-- Controles t√°ctiles -->
        <div class="touch-controls">
            <div class="dpad">
                <button id="btn-up" class="dpad-btn dpad-up">‚ñ≤</button>
                <button id="btn-down" class="dpad-btn dpad-down">‚ñº</button>
                <button id="btn-left" class="dpad-btn dpad-left">‚óÄ</button>
                <button id="btn-right" class="dpad-btn dpad-right">‚ñ∂</button>
            </div>
            <div class="action-buttons">
                <button id="btn-interact" class="action-btn">INTERACTUAR</button>
                <button id="btn-missions" class="action-btn">MISIONES</button>
                <button id="btn-pause" class="action-btn">PAUSA</button>
            </div>
        </div>
    </div>

    <!-- ========== OVERLAY DE CINEM√ÅTICAS (IM√ÅGENES / VIDEOS) ========== -->
    <div id="cinematic-overlay" class="overlay">
        <div class="cinematic-box">
            <div class="cinematic-header">
                <h3 id="cinematic-title" class="cinematic-title">2084</h3>
                <button id="close-cinematic-btn" class="close-btn">√ó</button>
            </div>
            <div class="cinematic-content">
                <div class="cinematic-media-container">
                    <img id="cinematic-image" class="cinematic-media" style="display:none;" />
                    <video id="cinematic-video" class="cinematic-media" style="display:none;" playsinline></video>
                </div>
                <p id="cinematic-text" class="cinematic-text"></p>
            </div>
        </div>
    </div>

    <!-- ========== CONTENEDOR DE NOTIFICACIONES ========== -->
    <div id="notification-container" class="notification-container"></div>

    <!-- ========== OVERLAY DE DI√ÅLOGO ========== -->
    <div id="dialogue-overlay" class="overlay">
        <div class="dialogue-box">
            <div class="dialogue-header">
                <h3 id="npc-name" class="npc-name">NPC</h3>
                <button id="close-dialogue-btn" class="close-btn">√ó</button>
            </div>
            <div class="dialogue-content">
                <p id="dialogue-text" class="dialogue-text"></p>
                <div id="dialogue-choices" class="dialogue-choices"></div>
            </div>
        </div>
    </div>

    <!-- ========== OVERLAY DE MISI√ìN ========== -->
    <div id="mission-overlay" class="overlay">
        <div class="missions-container">
            <div class="missions-header">
                <h2 class="missions-title">NUEVA MISI√ìN</h2>
            </div>
            <div class="mission-details">
                <h3 id="mission-title" class="mission-detail-title">T√≠tulo de la Misi√≥n</h3>
                <p id="mission-description" class="mission-description">Descripci√≥n de la misi√≥n</p>
                
                <div class="mission-section">
                    <h4 class="mission-section-title">Objetivos:</h4>
                    <ul id="mission-objectives-list" class="mission-objectives"></ul>
                </div>
                
                <div class="mission-section">
                    <h4 class="mission-section-title">Recompensas:</h4>
                    <p id="mission-rewards-text" class="mission-rewards"></p>
                </div>
                
                <div class="mission-actions">
                    <button id="accept-mission-btn" class="mission-btn accept-btn">Aceptar Misi√≥n</button>
                    <button id="decline-mission-btn" class="mission-btn decline-btn">Rechazar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ========== OVERLAY DE PANEL DE MISIONES ========== -->
    <div id="missions-overlay" class="overlay">
        <div class="missions-container">
            <div class="missions-header">
                <h2 class="missions-title">MISIONES</h2>
                <button id="close-missions-btn" class="close-btn">√ó</button>
            </div>
            <div class="missions-content">
                <div class="missions-section">
                    <h3 class="missions-section-title">Misiones Activas</h3>
                    <ul id="active-missions-list" class="missions-list">
                        <li class="empty-state">No tienes misiones activas</li>
                    </ul>
                </div>
                <div class="missions-section">
                    <h3 class="missions-section-title">Misiones Completadas</h3>
                    <ul id="completed-missions-list" class="missions-list">
                        <li class="empty-state">No has completado misiones</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- ========== OVERLAY DE PAUSA ========== -->
    <div id="pause-overlay" class="overlay">
        <div class="pause-container">
            <h2 class="pause-title">JUEGO PAUSADO</h2>
            <div class="pause-buttons">
                <button id="resume-btn" class="pause-btn">Reanudar</button>
                <button id="save-btn" class="pause-btn">Guardar Partida</button>
                <button id="load-btn" class="pause-btn">Cargar Partida</button>
                <button id="restart-btn" class="pause-btn">Reiniciar</button>
                <button id="exit-btn" class="pause-btn">Salir al Men√∫</button>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
    <script>
        function startNewGame() {
            document.getElementById('start-screen').classList.remove('active');
            document.getElementById('game-container').style.display = 'flex';
            initGame();
        }

        function continueGame() {
            const saveData = localStorage.getItem('2084_save');
            if (saveData) {
                document.getElementById('start-screen').classList.remove('active');
                document.getElementById('game-container').style.display = 'flex';
                initGame();
                setTimeout(() => loadGame(), 100);
            } else {
                alert('No hay partida guardada');
            }
        }

        function showCredits() {
            alert('2084 - La Resistencia de las Palabras\n\nInsp√≠rado en 1984 de George Orwell\nDesarrollado con IA\n\n"La libertad es poder decir que dos m√°s dos son cuatro."');
        }
    </script>
    <script src="audio.js"></script>
    <script src="game.js"></script>
</body>
</html>